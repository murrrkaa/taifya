# Сравнение JavaScript и Python

Конспект различий лексики, синтаксиса и семантики двух языков программирования с примерами.

## 1. Структурное программирование

| Особенность                        | Python                                                                          | JavaScript                                                                |
|------------------------------------|---------------------------------------------------------------------------------|---------------------------------------------------------------------------|
| Блоки кода                         | Определяются **отступами** (indentation)                                        | Определяются фигурными скобками `{}`                                      |
| Циклы                              | `for` (итерирует по объектам), `while`; нет классического `for(init;cond;step)` | `for`, `while`, `do…while`, `for…in`, `for…of`                            |
| Ветвления                          | `if/elif/else`                                                                  | `if/else`, `switch`                                                       |
| Break/continue                     | Есть                                                                            | Есть                                                                      |
| Объявление переменных и параметров | Динамическая типизация, нет ключевого слова для объявления (x = ...).           | Динамическая, но есть var, let, const (область видимости, мутабельность). | 

## 2. Набор операторов

| Категория                  | Python                                                                                        | JavaScript                                                                |
|----------------------------|-----------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|
| **Арифметические**         | `+`, `-`, `*`, `/` (float деление)<br>`//` (целое деление)<br>`%` (остаток)<br>`**` (степень) | `+`, `-`, `*`, `/` (float деление)<br>`%` (остаток)<br>`**` (степень)     |
| **Инкремент/декремент**    | нет                                                                                           | `++`, `--` (префикс/постфикс)                                             |
| **Сравнения**              | `==`, `!=`, `>`, `<`, `>=`, `<=`<br>`is` (идентичность объектов)<br>`in` (принадлежность)     | `==`, `!=` (нестрогие)<br>`===`, `!==` (строгие)<br>`>`, `<`, `>=`, `<=`  |
| **Логические**             | `and`, `or`, `not`                                                                            | `&&`, `\|\|`, `!`                                                         |
| **Присваивания**           | `=`, `+=`, `-=`, `*=`, `/=`, `//=`, `%=`, `**=`                                               | `=`, `+=`, `-=`, `*=`, `/=`, `%=` , `**=`                                 |
| **Побитовые**              | `&`, `\|`, `^`, `~`, `<<`, `>>`                                                               | `&`, `\|`, `^`, `~`, `<<`, `>>`, `>>>` (беззнаковый сдвиг вправо)         |
| **Тернарный**              | выражение через `a if cond else b`                                                            | `cond ? a : b`                                                            |
| **Прочие**                 | `is` (идентичность объектов), `not in`                                                        | `typeof`, `instanceof`, `in`, `delete`, `void`                            |

## 3. Базовые типы данных

| Категория         | Python                                                                                                                                                          | JavaScript                                                                                                            |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| **Числа**         | `int` (неограниченная точность)<br>`float` (64-бит, double)<br>`complex` (комплексные)                                                                          | `number` (64-бит, double, для всех int/float)<br>`bigint` (произвольная целочисленная точность)                       |
| **Булевы**        | `bool` (`True` / `False`)                                                                                                                                       | `boolean` (`true` / `false`)                                                                                          |
| **Строки**        | `str` (Unicode, неизменяемая)                                                                                                                                   | `string` (UTF-16, неизменяемая)                                                                                       |
| **Коллекции**     | `list` (динамический массив)<br>`tuple` (неизменяемая последовательность)<br>`set` (множество)<br>`frozenset` (неизменяемое множество)<br>`dict` (хеш-таблица)  | `Array` (динамический массив)<br>`Object` (ассоциативный массив/словарь)<br>`Set`<br>`Map`<br>`WeakSet`<br>`WeakMap`  |
| **Специальные**   | `None` (отсутствие значения)                                                                                                                                    | `null` (намеренное отсутствие значения)<br>`undefined` (неинициализированное значение)                                |
| **Прочие**        | `bytes`, `bytearray`, `memoryview`, `range`                                                                                                                     | `symbol` (уникальные идентификаторы)                                                                                  |

## 4. Пользовательские функции

| Python             | JavaScript                                         |
|--------------------|----------------------------------------------------|
| `def name(args):`  | `function name(args){}` или стрелочные `() => {}`  |

## 5. Пользовательские структуры

| Аспект              | Python                                                | JavaScript                                        |
|---------------------|-------------------------------------------------------|---------------------------------------------------|
| **ООП-модель**      | Классическая, множественное наследование              | Прототипная, одиночное наследование (`extends`)   |
| **Инкапсуляция**    | `_name` / `__name` (соглашения)                       | `#private` или соглашения                         |
| **Методы**          | С `self`, поддержка `@staticmethod`, `@classmethod`   | Методы класса/прототипа, `static`                 |
| **Свойства**        | `@property`                                           | `get` / `set`                                     |
| **Абстракция**      | `abc.ABC`, `@abstractmethod`                          | Соглашения или TypeScript                         |
| **Дополнительно**   | `dataclass`, `NamedTuple`, магические методы          | `Object`, `Map`, `Set`, функции как объекты       |

## 6. Обработка ошибок

| Python                 | JavaScript            |
|------------------------|-----------------------|
| `try/except/finally`   | `try/catch/finally`   |

## 7. Управление памятью

#### **Python**
1. **Автоматический сбор мусора**
    - Основной механизм – **подсчёт ссылок** (reference counting).
    - Когда счётчик ссылок объекта падает до нуля, память освобождается немедленно.
2. **Циклический сборщик**
    - Для объектов с взаимными ссылками работает дополнительный GC на основе **обнаружения циклов**.
3. **Детерминированное освобождение**
    - Благодаря подсчёту ссылок объекты часто уничтожаются сразу после выхода из области видимости.
4. **Нет ручного освобождения**
    - Нельзя напрямую освободить память, только разорвать ссылки или вызвать `gc.collect()`.

#### **JavaScript**
1. **Автоматический сбор мусора (GC)**
    - Основной алгоритм – **mark-and-sweep** (обход графа достижимых объектов).
2. **Нет детерминированного времени освобождения**
    - Очистка выполняется по усмотрению движка (V8, SpiderMonkey), момент непредсказуем.
3. **Сильные/слабые ссылки**
    - `WeakMap`, `WeakSet`, `WeakRef` позволяют хранить объекты без предотвращения их сборки.
4. **Нет прямого контроля**
    - Разработчик не может вызвать GC вручную, только уменьшать количество активных ссылок.

## 8. Область видимости переменных

| Аспект                           | Python                                                                                                                     | JavaScript                                                                                                                                                    | Комментарий                                                                                                                                                          |
|----------------------------------|----------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Область видимости переменных** | Лексическая, **LEGB**: Local → Enclosing → Global → Built-in. <br>Глобальные через `global`, замыкания через `nonlocal`.   | Лексическая (блоки через `let`/`const`) + функция. <br>`var` создаёт функциональную область видимости, `let`/`const` — блочную.                               | В JS есть различие между `var` и `let/const`, что влияет на подъем (hoisting) и жизненный цикл переменной. Python проще: отступы и функции определяют область.       |
| **Замыкания**                    | Поддерживаются, доступ к внешней переменной через `nonlocal` или обычные ссылки.                                           | Поддерживаются, переменные внешней функции видны в лексическом контексте, `var` может вести себя неожиданно из-за hoisting.                                   |                                                                                                                                                                      |
| **Глобальные переменные**        | `global` для изменения внутри функции                                                                                      | Любая переменная без объявления (нестрого) становится глобальной в браузере (не рекомендуется). `window.x = ...` в браузере или `global.x = ...` в Node.js    |                                                                                                                                                                      |

